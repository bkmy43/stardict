/* ************************************************************************
                              TAGS.H
 v2.0.
 Содержит: описания и коды тэгов статьи при выводе в окно,
           описания структур, применяемых для передачи данных внутри строки,
           описания типов ссылок.
 (c) Влад Перов.
 ( Про enum'ы - то, что они все int по умолчанию - это все фигня, главное
 обращаться с ними, как с байтами! )
************************************************************************ */

#if !defined(_TAGS_H)
#define _TAGS_H

#if !defined(__WINDOWS_H)
typedef unsigned char BYTE;  // потом уберем, т.к. BYTE есть в windows.h
#endif // of __WINDOWS_H

//
// Параметры изменения стиля текста в окне. Тэги: TAG_TEXTSTYLEBEGIN-TAG_TXETSTYLEEND
//
struct TTextProperty {

    BYTE    txpProperty;

    enum {

        TXP_CENTERED  = 0x01,  // И так понятно...
        TXP_LEFT      = 0x02,
        TXP_RIGHT     = 0x04

    };

};

//
// Параметры изменения стилей шрифта. Для тэгов TAG_FONTBEGIN-TAG_FONTEND.
//
struct TFontProperty {

    BYTE    fpProperty;

    enum { // Применяется к содержимому fpProperty :

        FNP_BOLD        = 0x80,
        FNP_ITALIC      = 0x40,
        FNP_UNDERLINED  = 0x20

    };

/*  Свойства шрифта:

            FNP_BOLD == 1, шрифт утолщенный,
                     == 0, шрифт обычной толщины.

          FNP_ITALIC == 1, шрифт наклонный,
                     == 0, шрифт прямой.

      FNP_UNDERLINED == 1, шрифт подчеркнут,
                     == 0, шрифт не подчеркнут.

               биты 0..4 - число со знаком, равно числу пунктов, на которое
                           нужно изменить размер шрифта. Если 0 - менять
                           не нужно. Диапазон [-16, +16]. Немного, но хватит. :)
                           Можно сделать беззнаковым - решим.
*/
};

// ***********************************************************************
// *** Тэги статьи.
// Общее: каждый тэг занимает 1 байт, допустимые значения [1..31],
// вслед за тэгом в строке следует блок параметров, определяемых
// типом тэга. Например - для тэга TAG_PARAGRAPH никаких параметров нет,
// для TAG_BITMAP - указывается адрес (32 bit) картинки в памяти.
// У заключительных тэгов параметров НЕТ:
// TAG_LINKEND, TAG_FONTEND, TAG_KEYWORDEND.
//
// Также см. примечание к TAG_KEYWORD-тэгам.
// ***********************************************************************

enum TArticleTags {

// Необходима вставка красной строки.
// Параметры: нет.
// LPSTR p = "<TAG_PARAGRAPH>Текст с красной строки...";
   TAG_PARAGRAPH = 5,

// Окончание строки. Вывод продолжается с новой строки.
// Параметры: нет.
// LPSTR p = "Старая строка<TAG_ENDOFLINE>Текст с новой строки...";
   TAG_ENDOFLINE,

// Указано начало ключевого (-ых) слов.
// Параметры: нет.
// !!!! Ключевые слова не должны содержать иные тэги (ссылки и т.д.) - лучше пусть
//      ссылки будут содержать тэги ключевых слов.
// LPSTR p = "<TAG_KEYWORDBEGIN>антропометрические изобары<TAG_KEYWORDEND>";
   TAG_KEYWORDBEGIN,
// Окончание ключевых слов.
   TAG_KEYWORDEND,

// Указано начало ссылки на статью и номер статьи.
// Параметры: WORD НомерСтатьи.
// LPSTR p = "<TAG_LINKBEGIN><#0003>Текст ссылки<TAG_LINKEND>";
   TAG_LINKBEGIN,
// Окончание ссылки.
   TAG_LINKEND,

// Вставка рисунка в формате BITMAP.
// Параметры: TBitmap far* УказательНаTBitmap (DWORD).
// LPSTR p = "<TAG_BITMAP><(TBitmap far*)pBitmap>..."
   TAG_BITMAP,

// Изменения свойств текущего шрифта.
// Параметры: TFontProperty СвойстваИзменений.
// LPSTR p = "<TAG_FONTBEGIN><01100010b>Наклонный,подчеркнутый шрифт на 2 пункта выше<TAG_FONTEND>.."
   TAG_FONTBEGIN,
// Окончание изменений, шрифт возвращает свои предыдущие стили.
   TAG_FONTEND,

// Изменения стиля печати текста в окне.
// Параметры TTextProperty СтильТекста.
// LPSTR p = "<TAG_TEXTSTYLEBEGIN><BYTE>Центрированный<TAG_TEXTSTYLEEND>.."
    TAG_TEXTSTYLEBEGIN,
// Окончание текста с измененным стилем.
    TAG_TEXTSTYLEEND

// А таблица - куча проблем - ведь нужно еще указывать размер ячейки! Фигня!
// можно сделать предопределенные таблицы ??x2, ??x3 - но все рано дерьмо.
};

#endif // of #if !defined ( _TAGS_H )

