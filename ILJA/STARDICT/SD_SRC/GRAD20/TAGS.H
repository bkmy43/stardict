/* ************************************************************************
                              TAGS.H
 v2.0.
 Содержит: описания и коды тэгов статьи при выводе в окно,
           описания структур, применяемых для передачи данных внутри строки,
           описания типов ссылок.
 (c) Влад Перов.
 ( Про enum'ы - то, что они все int по умолчанию - это все фигня, главное
 обращаться с ними, как с байтами! )
************************************************************************ */

#if !defined(_TAGS_H)
#define _TAGS_H

#if !defined(__WINDOWS_H)
typedef unsigned char BYTE;
typedef unsigned      WORD;
#endif // of __WINDOWS_H

// номер статьи, существующей при любых условиях:
#define    ART_FIRST          20000

// число пробелов в шаге табуляции:
#define    TAG_NUM_SPACES        11

//
// Параметры горизонтальной линии:
//
//struct TLinePropetry {
//
//    BYTE    lnpProperty;
//
//};

//
// Параметры изменения стиля текста в окне. Тэг TAG_PARAGRAPH.
//
struct TTextProperty {

    BYTE    txpProperty;

};
enum {

        TXP_CENTERED  = 0x01,  // И так понятно...
        TXP_LEFT      = 0x02,
        TXP_RIGHT     = 0x04,

        TXP_REDLINE   = 0x08   // говорит о необходимости красной строки, т.е. обычный параграф.

};

struct TTabSize {

    BYTE    tsProperty;

};
enum {

        TS_BIG  = 0,
        TS_SMALL      = 1
};

//
// Параметры изменения стилей шрифта. Для тэгов TAG_FONTBEGIN-TAG_FONTEND.
//
struct TFontProperty {

    BYTE    fpProperty;

};
enum { // Применяется к содержимому fpProperty :

        FNP_BOLD        = 0x80,
        FNP_ITALIC      = 0x40,
        FNP_UNDERLINED  = 0x20,

        FNP_BASE        = 0  // базовое смещение для определения изменения шрифта.

};
/*  Свойства шрифта:

            FNP_BOLD == 1, шрифт утолщенный,
                     == 0, шрифт обычной толщины.

          FNP_ITALIC == 1, шрифт наклонный,
                     == 0, шрифт прямой.

      FNP_UNDERLINED == 1, шрифт подчеркнут,
                     == 0, шрифт не подчеркнут.

               биты 0..4 - беззнаковое число, равно числу пунктов, на которое нужно увеличить размер шрифта.
                           Если число==FNP_BASE - менять не нужно.
                           Диапазон значений числа - [0, 31].
                           Диапазон значений приращений - [-FNP_BASE, 31-FNP_BASE]
                           Приращение определяется как (Число-FNP_BASE).
*/

// ***********************************************************************
// *** Тэги статьи.
// Общее: каждый тэг занимает 1 байт, допустимые значения [1..31],
// вслед за тэгом в строке следует блок параметров, определяемых
// типом тэга. Например - для тэга TAG_PARAGRAPH никаких параметров нет,
// для TAG_BITMAP - указывается адрес (32 bit) картинки в памяти.
// У заключительных тэгов параметров НЕТ:
// TAG_LINKEND, TAG_FONTEND, TAG_KEYWORDEND.
//
// Также см. примечание к TAG_KEYWORD-тэгам.
// ***********************************************************************

enum TArticleTags {

   TAG_EOFBODY = 0,

// Необходима вставка красной строки или изменения разположения строки.
// Параметры: TTextProperty СвойстваТекста. (BYTE).
// LPSTR p = "<TAG_PARAGRAPH><#00>Текст с красной строки...";
   TAG_PARAGRAPH = 5,

// Окончание строки. Вывод продолжается с новой строки.
// Параметры: нет.
// LPSTR p = "Старая строка<TAG_ENDOFLINE>Текст с новой строки...";
   TAG_ENDOFLINE,

// Указано начало ключевого (-ых) слов.
// Параметры: нет.
// !!!! Ключевые слова не должны содержать иные тэги (ссылки и т.д.) - лучше пусть
//      ссылки будут содержать тэги ключевых слов.
// LPSTR p = "<TAG_KEYWORDBEGIN>антропометрические изобары<TAG_KEYWORDEND>";
   TAG_KEYWORDBEGIN,
// Окончание ключевых слов.
   TAG_KEYWORDEND,

// Указано начало ссылки на статью и номер статьи.
// Параметры: WORD НомерСтатьи.
// LPSTR p = "<TAG_LINKBEGIN><#0003>Текст ссылки<TAG_LINKEND>";
   TAG_LINKBEGIN,
// Окончание ссылки.
   TAG_LINKEND,

// Вставка рисунка в формате BITMAP.
// Параметры: TBitmap far* УказательНаTBitmap (DWORD).
// LPSTR p = "<TAG_BITMAP><(TBitmap far*)pBitmap>..."
   TAG_BITMAP,

// Изменения свойств текущего шрифта.
// Параметры: TFontProperty СвойстваИзменений.
// LPSTR p = "<TAG_FONTBEGIN><01100010b>Наклонный,подчеркнутый шрифт на 2 пункта выше<TAG_FONTEND>.."
   TAG_FONTBEGIN,
// Окончание изменений, шрифт возвращает свои предыдущие стили.
   TAG_FONTEND,

// Табуляция, с шагом TAB_NUM_SPACES пробелов.
// Параметры: нет.
    TAG_TABULATION,

// Вставка горизонтальной линии в окно статьи.
// Параметры: TLineProperty СвойстваЛинии.
    TAG_HORIZLINE,

    TAG_NOWARPBEGIN,
    TAG_NOWARPEND,


// Тэг - ограничитель. Тэгов с равными или большими номерами не существует.
// Должен быть последним в enum и не превосходить 32.
   TAG_NONEXISTTAG = 31
};

#endif // of #if !defined ( _TAGS_H )


